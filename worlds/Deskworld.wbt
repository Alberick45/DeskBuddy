#VRML_SIM R2025a utf8
EXTERNPROTO "https://raw.githubusercontent.com/cyberbotics/webots/R2025a/projects/objects/computers/protos/Keyboard.proto"

WorldInfo {
  title "Table"
}
Viewpoint {
  orientation -0.6661791694886054 0.5543924889255317 0.49885296667698215 2.0937553545058813
  position -0.5944616887027931 1.4457366093462487 5.371279107595405
  description "Default View"
}
Background {
  skyColor [
    0.5 0.7 1
  ]
}
Pose {
  translation 0 -0.05 -0.03
  rotation 1 0 0 4.692820414042842e-06
  children [
    Shape {
      appearance PBRAppearance {
        baseColor 0.3 0.6 0.3
      }
      geometry Box {
        size 20 0.1 20
      }
    }
  ]
}
Pose {
  translation 0 1 -10
  children [
    Shape {
      appearance PBRAppearance {
        baseColor 0.85 0.85 0.85
      }
      geometry Box {
        size 20 2 0.2
      }
    }
  ]
}
Pose {
  translation 0 1 10
  children [
    Shape {
      appearance PBRAppearance {
        baseColor 0.85 0.85 0.85
      }
      geometry Box {
        size 20 2 0.2
      }
    }
  ]
}
Pose {
  translation -10 1 0
  children [
    Shape {
      appearance PBRAppearance {
        baseColor 0.85 0.85 0.85
      }
      geometry Box {
        size 0.2 2 20
      }
    }
  ]
}
Pose {
  translation 10 1 0
  children [
    Shape {
      appearance PBRAppearance {
        baseColor 0.85 0.85 0.85
      }
      geometry Box {
        size 0.2 2 20
      }
    }
  ]
}
Pose {
  translation 0 0.55 0
  rotation 0 1 0 4.692820414042842e-06
  children [
    Shape {
      appearance PBRAppearance {
        baseColor 0.5 0.3 0.2
      }
      geometry Box {
        size 1.5 0.05 0.8
      }
    }
    Pose {
      translation -0.7 -0.25 -0.35
      children [
        Shape {
          appearance PBRAppearance {
            baseColor 0.3 0.2 0.1
          }
          geometry Box {
            size 0.05 0.5 0.05
          }
        }
      ]
    }
    Pose {
      translation 0.7 -0.25 -0.35
      children [
        Shape {
          appearance PBRAppearance {
            baseColor 0.3 0.2 0.1
          }
          geometry Box {
            size 0.05 0.5 0.05
          }
        }
      ]
    }
    Pose {
      translation -0.7 -0.25 0.35
      children [
        Shape {
          appearance PBRAppearance {
            baseColor 0.3 0.2 0.1
          }
          geometry Box {
            size 0.05 0.5 0.05
          }
        }
      ]
    }
    Pose {
      translation 0.7 -0.25 0.35
      children [
        Shape {
          appearance PBRAppearance {
            baseColor 0.3 0.2 0.1
          }
          geometry Box {
            size 0.05 0.5 0.05
          }
        }
      ]
    }
  ]
}
Robot {
  translation 0 0.8 0
  rotation 0 1 0 1.5708

  
  children [

    # --- Main Body ---
    Shape {
      appearance PBRAppearance {
        baseColor 0.2 0.6 0.9
        roughness 0.3
        metalness 0.1
      }
      geometry Box {
        size 0.25 0.3 0.25
      }
    }

    # --- Keyboard input ---
    Keyboard {
      name "keyboard"
    }

    # --- "Head" tilt joint (so it can nod / wave) ---
HingeJoint {
  jointParameters HingeJointParameters {
    axis 0 1 0
  }
  device [
    RotationalMotor {
      name "tilt_motor"
    }
  ]
  endPoint Solid {
    translation 0 0.2 0
    children [
      # Head cube
      Shape {
        appearance PBRAppearance {
          baseColor 0.9 0.3 0.2
          roughness 0.4
        }
        geometry Box {
          size 0.2 0.2 0.2
        }
      }
      # --- "Face" (LED Eyes) ---
      # ðŸ‘€ Eyes go on the head, slightly forward
      Transform {
        translation -0.06 0.05 0.11
        children [
          # Left eye
          LED {
            name "eye_led_left"
            children [
              Shape {
                appearance PBRAppearance {
                  baseColor 0 0 0
                  emissiveColor 0 1 1
                }
                geometry Sphere {
                  radius 0.025
                }
              }
            ]
          }

             # --- Speaker (in the head) ---
          Speaker {
            name "speaker"
          }

          # Right eye (shifted on X-axis)
          Transform {
            translation 0.12 0 0
            children [
              LED {
                name "eye_led_right"
                children [
                  Shape {
                    appearance PBRAppearance {
                      baseColor 0 0 0
                      emissiveColor 0 1 1
                    }
                    geometry Sphere {
                      radius 0.025
                    }
                  }
                ]
              }
            ]
          }
        ]
      }
    ]
  }
}


    
    

# --- Little base/feet ---
    # --- Left Wheel Motor ---
  HingeJoint {
    jointParameters HingeJointParameters {
  axis 1 0 0
      anchor -0.08 -0.2 0
    }
    device [
      RotationalMotor {
        name "left_wheel_motor"
      }
    ]
    endPoint Solid {
      name "left_wheel_solid"
      translation -0.12 -0.2 0
  rotation 0 1 0 1.5708
      children [
        Shape {
          appearance PBRAppearance {
            baseColor 0.1 0.1 0.1
            roughness 0.4
            metalness 0.0
          }
          geometry Cylinder {
            radius 0.05
            height 0.04
          }
        }
      ]
      boundingObject Cylinder {
        radius 0.05
        height 0.04
      }
      physics Physics {
        density -1
        mass 0.1
      }
    }
  }

  # --- Right Wheel Motor ---
  HingeJoint {
    jointParameters HingeJointParameters {
  axis 1 0 0
      anchor 0.08 -0.2 0
    }
    device [
      RotationalMotor {
        name "right_wheel_motor"
      }
    ]
    endPoint Solid {
      name "right_wheel_solid"
      translation 0.04 -0.2 0
  rotation 0 1 0 1.5708
      children [
        Shape {
          appearance PBRAppearance {
            baseColor 0.1 0.1 0.1
            roughness 0.4
            metalness 0.0
          }
          geometry Cylinder {
            radius 0.05
            height 0.04
          }
        }
      ]
      boundingObject Cylinder {
        radius 0.05
        height 0.04
      }
      physics Physics {
        density -1
        mass 0.1
      }
    }
  }


  ]
  name "RoboDeskBuddy"
  controller "desk_buddy_controller"
  boundingObject Box { size 0.25 0.3 0.25 }
}